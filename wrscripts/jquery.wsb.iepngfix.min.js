/*!
 * IE 5.5 - IE6 PNG fix
 * 
 * http://www.websiterealizer.com
 *
 * Version: 2.5.0
 * Copyright (c) 2008-2010 Adritech Software Co. Ltd.
 *
 * Requires: jquery-1.4.2.js
 * 
 */
(function(a){a.fn.wsbfixpng=function(b){var c=a.extend({blankGif:"blank.gif"},b||{});if(a.browser.msie&&(a.browser.version>=5.5)&&(a.browser.version<7)){a(this).each(function(){if(a(this).is("img[src$=.png],input[src$=.png]")){var d=a(this).attr("src");a(this).attr({src:c.blankGif}).css({filter:"progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+d+"', sizingMethod='scale')"})}})}return this};a.fn.wsbfixbgpng=function(b){var d=a.extend({blankGif:"blank.gif"},b||{});if(a.browser.msie&&(a.browser.version>=5.5)&&(a.browser.version<7)){a(this).each(function(){if(this.currentStyle.backgroundImage.match(/\.png/i)){c(this)}})}function c(g){var f=g.currentStyle.backgroundImage;var i=f.substring(5,f.length-2);var h=(g.currentStyle.backgroundRepeat=="no-repeat")?"crop":"scale";var e="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+i+"', sizingMethod='"+h+"')";if(g.currentStyle.width=="auto"&&g.currentStyle.height=="auto"){g.style.zoom="1";if(g.currentStyle.display=="inline"){g.style.display="inline-block"}}if(a(g).is("div")){a(g).find("a").css("position","relative");if(g.currentStyle.position=="absolute"||g.currentStyle.position=="relative"){var j=document.createElement("div");j.style.width=g.currentStyle.width;j.style.height=g.currentStyle.height;j.style.padding=g.currentStyle.padding;j.style.margin=g.currentStyle.margin;j.style.filter=e;j.style.background=g.style.background;j.style.backgroundImage="url("+d.blankGif+")";g.applyElement(j,"inside");g.style.backgroundImage="none";g.style.padding="0";g.style.margin="0"}else{g.style.filter=e;g.style.backgroundImage="url("+d.blankGif+")"}}else{g.style.filter=e;g.style.backgroundImage="url("+d.blankGif+")"}}return this};a.fn.wsbImgListIePngFix=function(b){var c=a.extend({leftPadding:0,imgWidth:0,imgHeight:0,imgOffsetHeight:0,imgSrc:null,indent:0},b||{});if(a.browser.msie&&(a.browser.version>=5.5)&&(a.browser.version<7)){var d=c.imgHeight/2;if("rtl"==a(this).css("direction")){a(this).find("li").append("<div class='iepngfix'></div>").css({background:"none",padding:"0 "+c.leftPadding+"px 0 0 ","margin-top":d+"px"});a(this).find("div.iepngfix").css({position:"absolute",right:"0px",margin:c.imgOffsetHeight+"px "+c.indent+"px 0 0",width:c.imgWidth+"px",height:c.imgHeight+"px",filter:"progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+c.imgSrc+"', sizingMethod='crop');"})}else{a(this).find("li").prepend("<div class='iepngfix'></div>").css({background:"none",padding:"0 0 0 "+c.leftPadding+"px","margin-top":d+"px"});a(this).find("div.iepngfix").css({position:"absolute",margin:c.imgOffsetHeight+"px 0 0 -"+c.leftPadding+"px",width:c.imgWidth+"px",height:c.imgHeight+"px",filter:"progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+c.imgSrc+"', sizingMethod='crop');"})}}return this};a.wsbfixNavBarPng=function(c){var x=a.extend({navbarClassNames:"",blankGif:"blank.gif"},c||{});if(!x.navbarClassNames||x.navbarClassNames.length===0){return}var m=x.navbarClassNames.split(",");var h=m.length;var l=[];for(y=0;y<h;++y){l[y]=new RegExp(m[y]+"[\\s]","i")}var f=/^[a-zA-Z]+:\/\//;var u=document.styleSheets.length;var v=window.location.href.split("/");v.pop();var o=v.join("/")+"/";for(z=0;z<u;z++){var e=document.styleSheets[z];var d=e.rules;var n=d.length;for(s=0;s<n;s++){var A=d[s];var b=A.style.backgroundImage;if(b.match(/\.png/i)){var q=A.selectorText;var i=false;for(t=0;t<h;t++){if(l[t].exec(q)){i=true;break}}if(!i){continue}var B=(e.href)?e.href:"";var k=B.split("/");k.pop();var j=k.join("/");if(j){j+="/"}var g=b.substring(4,b.length-1);if(!f.exec(g)){g=o+j+g}var p=(A.style.backgroundRepeat=="no-repeat")?"crop":"scale";var w="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+g+"', sizingMethod='"+p+"')";var r="background-image: url("+x.blankGif+"); filter:"+w;e.addRule(q,r)}else{if(b=="none"){var q=A.selectorText;var i=false;for(t=0;t<h;t++){if(l[t].exec(q)){i=true;break}}if(!i){continue}e.addRule(q,"filter: none;")}}}}}})(jQuery);